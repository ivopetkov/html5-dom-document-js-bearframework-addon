<?php

/*
 * HTML5 DOM Document JS addon for Bear Framework
 * https://github.com/ivopetkov/html5-dom-document-js-bearframework-addon
 * Copyright (c) Ivo Petkov
 * Free to use under the MIT license.
 */

return <<<'EOT'
var html5DOMDocument=void 0!==html5DOMDocument?html5DOMDocument:function(){var e=0,t=function(e,t){for(var n=e.querySelectorAll("script"),r=n.length,o=0;o<r;o++)n[o].setAttribute("data-html5-dom-document-script-"+t,"1")},n=function(e,t){for(var r=e.querySelectorAll("[data-html5-dom-document-script-"+t+"]"),o=r.length,i=0;i<o;i++){var d=!1,a=r[i];a.removeAttribute("data-html5-dom-document-script-"+t);var c=document.createElement("script"),u=a.getAttribute("type");null!==u&&c.setAttribute("type",u);var l=a.getAttribute("src");if(null!==l){c.setAttribute("src",l);var f=a.getAttribute("async");(null===f||"false"===f)&&i+1<o&&(d=!0,c.addEventListener("load",(function(){n(e,t)})))}if(c.innerHTML=a.innerHTML,a.parentNode.insertBefore(c,a),a.parentNode.removeChild(a),d)break}};return{insert:function(r,o){void 0===o&&(o="beforeBodyEnd"),e++;var i=document.createElement("html");i.innerHTML=r;var d=function(e,t){for(var n=e.attributes,r=n.length,o=0;o<r;o++){var i=n[o];t.setAttribute(i.name,i.value)}};t(i,e);for(var a=i.querySelectorAll("head"),c=a.length,u=0;u<c;u++){var l=a[u];d(l,document.head),document.head.insertAdjacentHTML("beforeend",l.innerHTML)}var f=i.querySelectorAll("body"),m=f.length;for(u=0;u<m;u++){var M=f[u];d(M,document.body),"afterBodyBegin"===o?document.body.insertAdjacentHTML("afterbegin",M.innerHTML):"beforeBodyEnd"===o?document.body.insertAdjacentHTML("beforeend",M.innerHTML):"object"==typeof o&&void 0!==o[0]&&(void 0===o[1]&&(o[1]="innerHTML"),"innerHTML"===o[1]?o[0].innerHTML=M.innerHTML:"outerHTML"===o[1]?o[0].outerHTML=M.innerHTML:"beforeBegin"===o[1]?o[0].insertAdjacentHTML("beforebegin",M.innerHTML):"afterBegin"===o[1]?o[0].insertAdjacentHTML("afterend",M.innerHTML):"beforeEnd"===o[1]?o[0].insertAdjacentHTML("beforeend",M.innerHTML):"afterEnd"===o[1]&&o[0].insertAdjacentHTML("afterend",M.innerHTML))}n(document,e)},evalElement:function(r){e++,t(r,e),n(r,e)}}}();
EOT;
